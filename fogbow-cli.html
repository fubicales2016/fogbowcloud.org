<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>fogbow</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="http://www.fogbowcloud.org/theme/img/icons/favicon.ico" />
    <link rel="stylesheet" href="http://www.fogbowcloud.org/theme/css/bootstrap.css">
  </head>
  <body>
    <div class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <a href="../" class="navbar-brand">fogbow</a>
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <ul class="nav navbar-nav navbar-right">
          <li >
            <a href="http://www.fogbowcloud.org/rational.html">Understand it</a>
          </li>
          <li >
            <a href="http://www.fogbowcloud.org/install-general.html">Install it</a>
          </li>
          <li class="active">
            <a href="http://www.fogbowcloud.org/fogbow-cli.html">Use it</a>
          </li>
          <li><a href="#">Contact us</a></li>
        </ul>
      </div>
    </div>
     <div class="container">
      <div class="bs-docs-section">
    <div class="bs-docs-section">
    <div class="row">
      <div class="col-lg-4">
      	<br>
        <ul class="nav nav-pills nav-stacked" style="max-width: 300px;">
            <li class="active">
            	<a href="fogbow-cli">Fogbow CLI</a>
            </li>
        </ul>
      </div>
      <div class="col-lg-8 page-content">
      	<h1>Fogbow CLI</h1>
<p>The fogbow CLI is a command line interface for the fogbow manager. It makes it easier for fogbow users to create HTTP requests and invoke them through the manager's OCCI API. Through the fogbow CLI, users are able to get information about federation members, create instance requests and manage the lifecycle of those requests.</p>
<h2>Installation</h2>
<h3>Install from source</h3>
<div class="highlight"><pre>git clone https://github.com/fogbow/fogbow-cli.git
<span class="nb">cd </span>fogbow-cli
mvn install
</pre></div>


<h3>Install from debian package</h3>
<p>Download the <a href="http://downloads.fogbowcloud.org/stable/debian/v0.2.0/fogbow-cli/fogbow-cli_v0.2.0.deb">lastest stable package</a></p>
<div class="highlight"><pre>wget http://downloads.fogbowcloud.org/stable/debian/v0.2.0/fogbow-cli/fogbow-cli_v0.2.0.deb
</pre></div>


<p>And install it with dpkg</p>
<div class="highlight"><pre>sudo dpkg -i fogbow-cli_v0.2.0.deb
</pre></div>


<h2>Member operations (<code>member</code>)</h2>
<h3>List federation members</h3>
<p>Get all federation members.</p>
<ul>
<li><strong>--get</strong> (required)</li>
<li><strong>--url</strong> (optional; default: http://localhost:8182): OCCI endpoint</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli member --get --url http://localhost:8182

<span class="nv">id</span><span class="o">=</span>ferationid1;cpuIdle<span class="o">=</span>1;cpuInUse<span class="o">=</span>2;memIdle<span class="o">=</span>100;memInUse<span class="o">=</span>200;flavor:<span class="s1">&#39;small, capacity=&quot;1&quot;&#39;</span>;
<span class="nv">id</span><span class="o">=</span>ferationid2;cpuIdle<span class="o">=</span>2;cpuInUse<span class="o">=</span>4;memIdle<span class="o">=</span>150;memInUse<span class="o">=</span>300;flavor:<span class="s1">&#39;large, capacity=&quot;2&quot;&#39;</span>;
</pre></div>


<h2>Resource operations (<code>resource</code>)</h2>
<h3>Get all fogbow resources</h3>
<p>Get all OCCI resources provided by fogbow. </p>
<ul>
<li><strong>--get</strong> (required)</li>
<li><strong>--url</strong> (optional; default: http://localhost:8182): OCCI endpoint</li>
<li><strong>--auth-token</strong> (required): user's token</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli resource --get --url http://localhost:8182 --auth-token mytoken

Category: fogbow-request; <span class="nv">scheme</span><span class="o">=</span><span class="s2">&quot;http://schemas.fogbowcloud.org/request#&quot;</span>; <span class="nv">class</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span>; <span class="nv">title</span><span class="o">=</span><span class="s2">&quot;Request new Instances&quot;</span>; <span class="nv">location</span><span class="o">=</span><span class="s2">&quot;http://localhost:8182/request&quot;</span>; <span class="nv">attributes</span><span class="o">=</span><span class="s2">&quot;org.fogbowcloud.request.instance-count org.fogbowcloud.request.type org.fogbowcloud.request.valid-until org.fogbowcloud.request.valid-from&quot;</span>
Category: fogbow-large; <span class="nv">scheme</span><span class="o">=</span><span class="s2">&quot;http://scmhemas.fogbowcloud.org/template/resource#&quot;</span>; <span class="nv">class</span><span class="o">=</span><span class="s2">&quot;mixin&quot;</span>; <span class="nv">title</span><span class="o">=</span><span class="s2">&quot;Large Flavor&quot;</span>; <span class="nv">location</span><span class="o">=</span><span class="s2">&quot;http://localhost:8182/large&quot;</span>
Category: fogbow-linux-x86; <span class="nv">scheme</span><span class="o">=</span><span class="s2">&quot;http://schemas.fogbowcloud.org/template/os#&quot;</span>; <span class="nv">class</span><span class="o">=</span><span class="s2">&quot;mixin&quot;</span>; <span class="nv">title</span><span class="o">=</span><span class="s2">&quot;Linux-x86 Image&quot;</span>; <span class="nv">location</span><span class="o">=</span><span class="s2">&quot;http://localhost:8182/fogbow-linux-x86&quot;</span>
</pre></div>


<h2>Token operations (<code>token</code>)</h2>
<h3>Create a new Token</h3>
<p>Create a new user token.</p>
<p>Note: to pass the credentials and the identity plugin endpoint it is necessary the use of dynamic parameters; follow the example with the OpenStack credentials:</p>
<ul>
<li><strong>--get</strong> (required)</li>
<li><strong>--type</strong> (required) : identity plugin type</li>
<li><strong>-DauthUrl</strong> (required): identity plugin endpoint</li>
<li><strong>-Dpassword=</strong> (optional): dynamic parameter</li>
<li><strong>-Dusername=</strong> (optional): dynamic parameter</li>
<li><strong>-DtenantName=</strong> (optional): dynamic parameter</li>
</ul>
<p>Note: if a password is not provided, it will be requested in the console.</p>
<p>Example:</p>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli token --get -Dpassword<span class="o">=</span>mypassword -Dusername<span class="o">=</span>myusername -DtenantName<span class="o">=</span>mytenantname -DauthUrl<span class="o">=</span>http://localhost:8182 --type openstack

MIINXgYJKoZIhvcNAQcCoIINTzCCDUsCAQExCTAHBgUrDgMCGjCCC7QGCSqGSIb3DQEHAaCCC6UEgguheyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxNC0wNS0
</pre></div>


<h2>Request operations (<code>request</code>)</h2>
<h3>Get request</h3>
<p>Get all instance requests associated to a particular user's token.</p>
<ul>
<li><strong>--get</strong> (required)</li>
<li><strong>--url</strong> (optional; default: http://localhost:8182): OCCI endpoint</li>
<li><strong>--auth-token</strong> (required): user's token</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli request --get --auth-token mytoken --url http://localhost:8182

X-OCCI-Location: http://localhost:8182/request/47536d31-0674-4278-ad05-eff5fdd07257
X-OCCI-Location: http://localhost:8182/request/fd745806-4909-4a39-8380-13183b1f197c
</pre></div>


<p>Get detailed information about a single instance request.</p>
<ul>
<li><strong>--get</strong> (required)</li>
<li><strong>--url</strong> (optional; default: http://localhost:8182): OCCI endpoint</li>
<li><strong>--auth-token</strong> (required): user's token</li>
<li><strong>--id</strong> (required): request id</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli request --get --auth-token mytoken --id requestid --url http://localhost:8182

<span class="nv">RequestId</span><span class="o">=</span>47536d31-0674-4278-ad05-eff5fdd07257; <span class="nv">State</span><span class="o">=</span>open; <span class="nv">InstanceId</span><span class="o">=</span>232135435-5435345-435345435-43545
</pre></div>


<h3>Create requests</h3>
<p>Create instance requests.</p>
<ul>
<li><strong>--create</strong> (required)</li>
<li><strong>--url</strong> (optional; default: http://localhost:8182): OCCI endpoint</li>
<li><strong>--auth-token</strong> (required): user's token</li>
<li><strong>--n</strong> (optional; default: 1): number of requests to be created</li>
<li><strong>--image</strong> (optional; default: fogbow-linux-x86): fogbow image</li>
<li><strong>--flavor</strong> (optional; default: fogbow-small): fogbow flavor</li>
<li><strong>--public-key</strong> (optional; path public key): fogbow public key</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli request --create --n 2 --image fogbow-linux-x86 --flavor large --url http://localhost:8182 --public-key ~/.ssh/id_rsa.pub

X-OCCI-Location: http://localhost:8182/request/47536d31-0674-4278-ad05-eff5fdd07257
X-OCCI-Location: http://localhost:8182/request/fd745806-4909-4a39-8380-13183b1f197c
</pre></div>


<p>Example using defaults:</p>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli request --create --url http://localhost:8182

X-OCCI-Location: http://localhost:8182/request/47536d31-0674-4278-ad05-eff5fdd07257
</pre></div>


<h3>Delete all requests</h3>
<p>Delete all instance requests associated to a particular user's token.</p>
<ul>
<li><strong>--delete</strong> (required)</li>
<li><strong>--url</strong> (optional; default: http://localhost:8182): OCCI endpoint</li>
<li><strong>--auth-token</strong> (required): user's token</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli request --delete --auth-token mytoken --url http://localhost:8182

Ok
</pre></div>


<h3>Delete a single request</h3>
<p>Delete a single instance request.</p>
<ul>
<li><strong>--delete</strong> (required)</li>
<li><strong>--url</strong> (optional; default: http://localhost:8182): OCCI endpoint</li>
<li><strong>--auth-token</strong> (required): user's token</li>
<li><strong>--id</strong> (required): request id</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli request --delete --auth-token mytoken --id requestid --url http://localhost:8182

Ok
</pre></div>


<h2>Instance operations (<code>instance</code>)</h2>
<h3>Get all instances</h3>
<p>Get all instances associated to a particular user's token.</p>
<ul>
<li><strong>--get</strong>  (required)</li>
<li><strong>--url</strong> (optional; default: http://localhost:8182): OCCI endpoint</li>
<li><strong>--auth-token</strong> (required): user's token</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli instance --get --auth-token  mytoken --url http://localhost:8182

X-OCCI-Location: 3I235356-3432434-324324-3243242f
X-OCCI-Location: 4B869582-8907667-123457-0765345c
</pre></div>


<h3>Get a single instance</h3>
<p>Get detailed information about a single instance.</p>
<ul>
<li><strong>--get</strong>  (required)</li>
<li><strong>--url</strong> (optional; default: http://localhost:8182): OCCI endpoint</li>
<li><strong>--auth-token</strong> (required): user's token</li>
<li><strong>--id</strong> (required): instance id</li>
</ul>
<p>Example: </p>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli instance --get --auth-token mytoken --id instanceid --url http://localhost:10000

Category: compute; <span class="nv">scheme</span><span class="o">=</span><span class="s2">&quot;http://compute&quot;</span>; <span class="nv">class</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span>; <span class="nv">title</span><span class="o">=</span><span class="s2">&quot;title&quot;</span>; <span class="nv">rel</span><span class="o">=</span><span class="s2">&quot;rel&quot;</span>; <span class="nv">location</span><span class="o">=</span><span class="s2">&quot;location&quot;</span>
Category: compute; <span class="nv">scheme</span><span class="o">=</span><span class="s2">&quot;http://compute&quot;</span>; <span class="nv">class</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span>; <span class="nv">title</span><span class="o">=</span><span class="s2">&quot;title&quot;</span>; <span class="nv">rel</span><span class="o">=</span><span class="s2">&quot;rel&quot;</span>; <span class="nv">location</span><span class="o">=</span><span class="s2">&quot;location&quot;</span>
Link: &lt;/network/admin&gt;; org.openstack.compute.console.vnc<span class="o">=</span><span class="s2">&quot;N/A&quot;</span>; occi.compute.architecture<span class="o">=</span><span class="s2">&quot;x86&quot;</span>; occi.compute.speed<span class="o">=</span><span class="s2">&quot;0.0&quot;</span>
X-OCCI-Attribute: org.openstack.compute.console.vnc<span class="o">=</span><span class="s2">&quot;N/A&quot;</span>
X-OCCI-Attribute: occi.compute.architecture<span class="o">=</span><span class="s2">&quot;x86&quot;</span>
X-OCCI-Attribute: occi.compute.speed<span class="o">=</span><span class="s2">&quot;0.0&quot;</span>
X-OCCI-Attribute: org.fogbowcloud.request.ssh-address<span class="o">=</span><span class="s2">&quot;10.1.0.43:5000&quot;</span>
</pre></div>


<h3>Delete all instances</h3>
<p>Delete all instances associated to a particular user's token.</p>
<ul>
<li><strong>--delete</strong>  (required)</li>
<li><strong>--url</strong> (optional; default: http://localhost:8182): OCCI endpoint</li>
<li><strong>--auth-token</strong> (required): user's token</li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli instance --delete --auth-token mytoken --url http://localhost:8182

Ok
</pre></div>


<h3>Delete a single instance</h3>
<p>Delete a single instance.</p>
<ul>
<li><strong>--delete</strong> (required)</li>
<li><strong>--url</strong> (optional; default: http://localhost:8182): OCCI endpoint</li>
<li><strong>--auth-token</strong> (required): user's token</li>
<li><strong>--id</strong> (required): instance id</li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>fogbow-cli instance --delete --auth-token mytoken --id instanceid --url http://localhost:8182

Ok
</pre></div>
      </div>
    </div>
    </div>
      </div>
    </div>
    
    <footer class="footer">
      <div class="container">
        <div class="row">
      	  <div class="col-lg-12">
      	    <ul class="list-inline">
      	      <li class="pull-right"><a href="#top">Back to top</a></li>
      	      <li><a href="http://blog.fogbowcloud.org"target="_blank">Blog</a></li>
      	      <li><a href="https://github.com/fogbow/" target="_blank">GitHub</a></li>
      	      <li><a href="http://build.fogbowcloud.org" target="_blank">Build status</a></li>
      	    </ul>
      	    <p>Code released under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank">Apache License Version 2.0</a>.</p>
      	    <p>Based on <a href="http://getbootstrap.com" target="_blank" rel="nofollow">Bootstrap</a>. Icons from <a href="http://fortawesome.github.io/Font-Awesome/" target="_blank" rel="nofollow">Font Awesome</a>. Web fonts from <a href="http://www.google.com/webfonts" target="_blank" rel="nofollow">Google</a>.</p>
      	  </div>
        </div>
      </div>

    </footer>

    <footer class="below-footer">
      <div class="container">
      <div class="row">

      <div class="col-lg-4">
          <a href="http://ec.europa.eu/index_en.htm" target="_blank" rel="nofollow"><img src="http://www.eubrazilcloudconnect.eu/sites/default/files/eu.jpg"></a>
          <a href="http://www.mcti.gov.br/" target="_blank" rel="nofollow"><img src="http://www.eubrazilcloudconnect.eu/sites/default/files/fin_min_ciencia.png"></a>
          <a href="http://www.cnpq.br/" target="_blank" rel="nofollow"><img src="http://www.eubrazilcloudconnect.eu/sites/default/files/cnpq.png"></a>
          <a href="http://www.finep.gov.br/" target="_blank" rel="nofollow"><img src="http://www.finep.gov.br/imagens/logo_novo.jpg" height="28"></a>
      </div>

      <div class="col-lg-8">
        <p>
          Fogbow is partially funded by CNPq/Brazil and the European Commission through the <a href="http://www.eubrazilcloudconnect.eu" target="_blank" rel="nofollow">EUBrazilCC</a> project, and by FINEP/Brazil through the <a href="http://www.lncc.br/departamentos/projetosconsultar.php?vMenu=&Idt_Projeto=587&projeto=3&vCabecalho=pesq&vTitulo=lncc&vDepto=&idt_responsavel=&vAno=2014&idt_linha_pesquisa=" target="_blank" rel="nofollow">CICN</a> project.
        </p>
      </div>

      </div>
    </div>
    </footer>



  </body>
</html>